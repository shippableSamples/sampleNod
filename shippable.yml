# Language setting
language: node_js

# Version number
node_js:
  - 0.12

build:
  pre_ci:
    - echo "this is master branch"
  ci:
    - node --version
    - sudo apt-get update
    - sudo apt-get install libtiff5-dev libjpeg8-dev zlib1g-dev libfreetype6-dev liblcms2-dev libwebp-dev tcl8.6-dev tk8.6-dev python-tk
    - npm install -g karma karma-cli bower gulp
    - npm install
    - sudo bower --allow-root install 

  post_ci:
    - ls -a
    - pwd

  cache: true

  cache_dir_list: 
    - $SHIPPABLE_BUILD_DIR/node_modules
    - $SHIPPABLE_BUILD_DIR/.git

