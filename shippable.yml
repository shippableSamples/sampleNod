# Language setting
language: node_js

# Version number
node_js:
  - 0.12
  - 5.0
  #- 0.11
  
build:
  #cache: true
  pre_ci:
    - docker build -t=shippabledocker/cock1_nod_vsecenv11 .    
       
  pre_ci_boot:
    image_name: shippabledocker/pipelinev2 #shippabledocker/sample_node_pvt #drydock/u14nodpls # 
    image_tag: deploy.1 #prod #
    pull: false
    #options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'    
    
  ci:
    - ps -eax
    - ls -al
    - node --version 

  post_ci:
    - docker push shippabledocker/cock1_nod_vsecenv11 

integrations:
  hub:
    - integrationName: docker
      type: docker
      branches:
        only:
          - master
#  notifications:
   # - integrationName: sample_java
   #   type: webhook
   #   payload:
    #    - API_URL=$SHIPPABLE_API_URL
     #   - CONTAINER_NAME=$SHIPPABLE_CONTAINER_NAME
     #   - FOO=bar
     #   - BOO=buzz
     # on_start: always
     # on_success: always
     # on_failure: always
     # on_pull_request: always
